Contributing
============

Contributions are welcome!

Would you like to contribute, but are you uncertain where to start? Please ask!

If you prefer to browse a bit first, a good start are the [discussions](https://github.com/opwvhk/avro-schema-support/discussions),
and [issues with the labels "help wanted" and "good first issue"](https://github.com/opwvhk/avro-schema-support/issues?q=is%3Aissue%20state%3Aopen%20label%3A%22good%20first%20issue%22%2C%22help%20wanted%22).


How to contribute
-----------------

When you wish to contribute, please open an issue. Even a question can be a helpful contribution, as it can identify incomplete or missing parts in the documentation.

Other things, such as bug reports, pull requests, etc. are also welcome.

**Working on your first Pull Request?** You can learn how from this *free* series [How to Contribute to an Open Source Project on GitHub](https://kcd.im/pull-request).

The short version:
1. Fork the repository
2. Make your changes in your fork (using a new branch is advisable)
3. Test your changes, and verify any UI changes visually.
   A complete starting point is `./gradlew test runPLugin`
4. Open a PR to merge your changes in the target repo


Development Notes
-----------------

The folder `src/main/gen` contains code generated by the IntelliJ GrammarKit plugin. It is not generated during the build, because the
GrammarKit Gradle plugin does not support mixins or injecting PSI utility methods. Code generation is therefore a manual operation.

When changing the grammar, keep in mind:
* Don't change the lexer directly, but change the `tokens` definition in the grammar instead
* When changing tokens, remember to recreate the lexer
* When renaming/deleting BNF clauses, remember to delete the folder `src/main/gen/opwvhk/intellij/avro_idl/psi`
* Always regenerate the code after changing the grammar and/or lexer

There are not many automated tests as hooking into IntelliJ and the effects of navigating its API are by far the trickiest bit.
The code doing stuff with the result is mostly trivial.
